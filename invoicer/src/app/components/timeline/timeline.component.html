<div class="timeline-categories">
  <div *ngFor="let category of timelineCategories; let j = index" class="timeline-wrapper">
    <div *ngFor=" let data = timelineData?.filter(t => t.location === category); let item of data; let i = index" class="timeline-entry">
      
      <div *ngIf="showDateLabel(i, data)" class="date-label">
        {{ item.date | date: 'dd/MM/yyyy' }}
      </div>

      <div class="timeline-row">
        <div class="card-container">
          <mat-expansion-panel>
            <mat-expansion-panel-header class="expansion-panel-header-height">
              <div class="card-content">
              <mat-panel-title>
                <div class="date-block">
                  <div class="day">{{ item.date | date: 'HH:mm' }}</div>
                </div>
              </mat-panel-title>
                <mat-panel-description>
                  <div class="text-block">
                    <strong>{{ item.title }}</strong>
                  </div>
                </mat-panel-description>
              </div>
            </mat-expansion-panel-header>
            <div>{{ item.description }}</div>
          </mat-expansion-panel>
        </div>
      </div>
    </div>
  </div>
</div>